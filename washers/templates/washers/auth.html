{% load static %}
<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Washer Sign in/up Form</title>
	<link rel="stylesheet" href="{% static 'clients/index.css' %}?v=2.0" />
	<script src="{% static 'clients/index.js' %}" defer></script>
</head> 
<body>
<div class="container" id="container">
	<div class="form-container sign-up-container">
		<form action="{% url 'washers:signup' %}" method="post">
			<h1>Join Our Team</h1>
			<span>Create your washer account</span>
			{% csrf_token %}
			
			{% if messages %}
				{% for message in messages %}
					<div class="alert alert-{{ message.tags }}">
						<i class="fas fa-exclamation-circle"></i> {{ message }}
					</div>
				{% endfor %}
			{% endif %}
			
			<input type="text" placeholder="First Name" name="first_name" value="{{ request.POST.first_name }}" required />
			<input type="text" placeholder="Last Name" name="last_name" value="{{ request.POST.last_name }}" required />
			<input type="email" placeholder="Email" name="email" value="{{ request.POST.email }}" required />
			<input type="tel" placeholder="Phone (0712345678 or +254712345678)" name="phone" value="{{ request.POST.phone }}" required />
			<input type="password" placeholder="Password" name="password" required />
			<input type="password" placeholder="Confirm Password" name="confirm_password" required />
			<button type="submit">Sign Up</button>
		</form>
	</div>
	<div class="form-container sign-in-container">
		<form action="{% url 'washers:login' %}" method="post">
			<h1>Washer Sign in</h1>
			<div class="social-container">
				<a href="#" class="social"><i class="fab fa-facebook-f"></i></a>
				<a href="#" class="social"><i class="fab fa-google-plus-g"></i></a>
				<a href="#" class="social"><i class="fab fa-linkedin-in"></i></a>
			</div>
			<span>or use your account</span>
			{% csrf_token %}
			
			{% if messages %}
				{% for message in messages %}
					<div class="alert alert-{{ message.tags }}">{{ message }}</div>
				{% endfor %}
			{% endif %}
			
			<input type="email" name="email" placeholder="Email" required />
			<input type="password" name="password" placeholder="Password" required />
			<button type="submit">Sign In</button>
		</form>
	</div>
	<div class="overlay-container">
		<div class="overlay">
			<div class="overlay-panel overlay-left">
				<h1>Welcome Back!</h1>
				<p>To keep connected with us please login with your personal info</p>
				<button class="ghost" id="signIn">Sign In</button>
			</div>
			<div class="overlay-panel overlay-right">
				<h1>Hello, Washer!</h1>
				<p>Enter your details and start your journey with us</p>
				<button class="ghost" id="signUp">Sign Up</button>
			</div>
		</div>
	</div>
</div>

<footer>
	<p>
		Created with <i class="fa fa-heart"></i> by
		<a target="_blank" href="https://florin-pop.com">Florin Pop</a>
		- Read how I created this and how you can join the challenge
		<a target="_blank" href="https://florin-pop.com/blog/2019/03/double-slider-sign-in-up-form/">here</a>.
	</p>
</footer>

<script>
	// Check if there are error messages and form data in signup form
	document.addEventListener('DOMContentLoaded', function() {
		const signupForm = document.querySelector('.sign-up-container form');
		const hasSignupData = signupForm.querySelector('input[name="first_name"]').value || 
		                      signupForm.querySelector('input[name="email"]').value;
		const hasSignupErrors = signupForm.querySelector('.alert');
		
		// If there's signup data or errors, show the signup form
		if (hasSignupData || hasSignupErrors) {
			const container = document.getElementById('container');
			container.classList.add('right-panel-active');
		}
	});
</script>
</body>
</html>